{% extends "scout_clients/base.html" %}

{% load static %}

{% block title %}Demo: Vue Django{% endblock %}
{% block content %}

<div class="jumbotron">
  <h1>{{hello}}</h1>
  <p class="lead">Let's experiment with exposing data through 2 popular API server architectures. Then we'll consume the data using client apps built with various techniques.</p>
</div>

<p>The following container will render a vue component with data recieved via an axios request.</p>

<div class="row marketing" style="border:solid 1px red;">

  <h2 class="classic-header">Vue.js</h2>

    <div id="app" class="col-lg-12">
        <ul class="media-list classic-list">
            <li v-for="space in spaces" class="media">
               <div class="media-left">

                  <a href="#"><img class="media-object" src=" " alt="..."></a>

              </div>
              <div class="media-body">
                <h4 class="media-heading">[[ space.name ]]</h4>
                <p>[[ space.building_name ]]<br/>
                [[ space.latitude ]], [[ space.longitude ]]</p>
              </div>
           </li>
        </ul>
    </div>
</div>
<script>
new Vue({
  delimiters: ['[[', ']]'],
  el: '#app',
  data: {
    title: 'Welcome to My Journal',
    days: [1,2,3],
    spaces: null
  },
  mounted () {
    axios
      .get('/api/v1/spots/?format=json')
      //.then(response => (console.log(response)))
      .then(response => (this.spaces = response.data))
  }
})
</script>

{% endblock %}
